(this.webpackJsonppinplay_front=this.webpackJsonppinplay_front||[]).push([[0],{250:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),i=n(52),r=n.n(i),s=n(16),l=n(8),o=n(21),d=n(22),j=n(24),u=n(23),p=n(9),b=n(39),h=(n(35),n(2)),O=function(){return Object(h.jsx)("div",{className:"container",children:Object(h.jsxs)("div",{className:"jumbotron",children:[Object(h.jsx)("h4",{children:"Playlists will be displayed here in the future."}),Object(h.jsx)("h4",{children:"For now, click the button to go to the playlist generation page."}),Object(h.jsx)("div",{className:"ClickHere",children:Object(h.jsx)(b.a,{to:"/filters",className:"ui button primary",children:Object(h.jsx)("button",{type:"button",className:"ClickHere","data-toggle":"modal","data-target":"#myModal",children:"Click here!"})})})]})})},m=function(e){Object(j.a)(n,e);var t=Object(u.a)(n);function n(e){return Object(o.a)(this,n),t.call(this,e)}return Object(d.a)(n,[{key:"render",value:function(){console.log(this.props.playlistID);var e="https://open.spotify.com/embed/playlist/".concat(this.props.playlistID);return Object(h.jsx)("div",{className:"container",id:"Playlist",children:Object(h.jsxs)("div",{class:"playlist_embed",children:[Object(h.jsx)("div",{className:"row",id:"TitleBar",children:Object(h.jsx)("h4",{id:"TitleText",children:"Your generated playlist:"})}),Object(h.jsxs)("div",{className:"row",children:[Object(h.jsx)("div",{className:"col-*-*",children:Object(h.jsx)("iframe",{class:"embedded-playlist",src:e,allowtransparency:"true",allow:"encrypted-media",title:this.props.playlistID})}),Object(h.jsx)("div",{className:"row",id:"NewPlaylist",children:Object(h.jsx)(b.a,{to:"/filters",className:"ui button primary",children:Object(h.jsx)("button",{type:"button",children:"Create New Playlist"})})})]})]})})}}]),n}(a.a.Component),y=Object(s.b)((function(e,t){return{playlistID:t.match.params.id}}),null)(m),x=n(30),v=n.n(x),f=(n(83),n(18)),g=n(252),N=n(251),k=function(e){Object(j.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(o.a)(this,n);for(var c=arguments.length,a=new Array(c),i=0;i<c;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).cities=["NYC","LA","PHX"],e.genres=["none","country","dance","edm","hip hop","indie-pop","latin","party","pop","rap","rock-n-roll","r&b"],e.renderCitySelector=function(t){var n=t.input,c=t.meta,a=c.touched,i=c.error;return Object(h.jsxs)("div",{children:[Object(h.jsxs)("select",Object(f.a)(Object(f.a)({},n),{},{children:[Object(h.jsx)("option",{value:"",children:"Select an area."}),e.cities.map((function(e){return Object(h.jsx)("option",{value:e,children:e},e)}))]})),a&&i&&Object(h.jsx)("span",{children:i})]})},e.renderGenreSelector=function(t){var n=t.input,c=t.meta,a=c.touched,i=c.error;return Object(h.jsxs)("div",{children:[Object(h.jsxs)("select",Object(f.a)(Object(f.a)({},n),{},{children:[Object(h.jsx)("option",{value:"",children:"Choose a preferred genre."}),e.genres.map((function(e){return Object(h.jsx)("option",{value:e,children:e},e)}))]})),a&&i&&Object(h.jsx)("span",{children:i})]})},e.onSubmit=function(t){e.props.onSubmit(t)},e}return Object(d.a)(n,[{key:"render",value:function(){return Object(h.jsx)("div",{className:"container",id:"Form",children:Object(h.jsxs)("form",{onSubmit:this.props.handleSubmit(this.onSubmit),className:"form-horizontal",children:[Object(h.jsxs)("div",{className:"form-group",children:[Object(h.jsx)("label",{children:"Choose a City:"}),Object(h.jsx)(g.a,{name:"city",component:this.renderCitySelector})]}),Object(h.jsxs)("div",{className:"form-group",children:[Object(h.jsx)("label",{children:"Allow explicit content?"}),Object(h.jsxs)("p",{children:[Object(h.jsx)(g.a,{name:"explicit",component:"input",type:"radio",value:"True"})," ","Yes"]}),Object(h.jsxs)("p",{children:[Object(h.jsx)(g.a,{name:"explicit",component:"input",type:"radio",value:"False"})," ","No"]})]}),Object(h.jsxs)("div",{className:"form-group",children:[Object(h.jsx)("label",{children:"Choose a Genre:"}),Object(h.jsx)(g.a,{name:"genre",component:this.renderGenreSelector})]}),Object(h.jsx)("div",{children:"Note: Loading may take some time when you click."}),Object(h.jsx)("button",{type:"submit",className:"submit",children:"Submit"})]})})}}]),n}(a.a.Component),w=Object(N.a)({form:"filters"})(k),I=n(78),D=n.n(I),_=n(115),S=n(116),C=n.n(S).a.create({baseURL:"https://radiant-anchorage-77650.herokuapp.com/"}),P=n(12),T=Object(P.a)(),L=function(e){Object(j.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(o.a)(this,n);for(var c=arguments.length,a=new Array(c),i=0;i<c;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).onSubmit=function(t){var n=v.a.get("spotifyAuthToken"),c=e.props.userID;e.props.makePlaylist(n,c,t)},e}return Object(d.a)(n,[{key:"getPlaylistLink",value:function(){return"https://open.spotify.com/embed/playlist/".concat(this.props.playlistID)}},{key:"render",value:function(){v.a.get("spotifyAuthToken");return Object(h.jsx)("div",{children:this.props.userID?Object(h.jsx)("div",{children:Object(h.jsx)(w,{onSubmit:this.onSubmit})}):Object(h.jsx)("div",{className:"modal fade",role:"dialog",id:"myModal",children:Object(h.jsx)("div",{className:"modal-dialog",children:Object(h.jsxs)("div",{className:"modal-content",children:[Object(h.jsxs)("div",{className:"modal-header",children:[Object(h.jsx)("h5",{children:"Error"}),Object(h.jsx)("button",{type:"button",className:"close","data-dismiss":"modal",children:"\xd7"})]}),Object(h.jsxs)("div",{className:"modal-body",children:[Object(h.jsx)("p",{children:"Please log in to continue."}),Object(h.jsx)("p",{children:"NOTE: You may need to reload the page when you log in."})]})]})})})})}}]),n}(a.a.Component),A=Object(s.b)((function(e,t){return{playlistID:e.playlist.playlistID,userID:e.auth.userID}}),{makePlaylist:function(e,t,n){return function(){var c=Object(_.a)(D.a.mark((function c(a){var i;return D.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,C.get("/pinplay_api/",{params:{user_id:t,spotify_token:e,playlist_name:"My Second Pinplay Playlist",location:n.city,explicit:n.explicit,genre:n.genre}});case 2:i=c.sent,a({type:"MAKE_PLAYLIST",payload:i.data}),T.push("/endscreen/".concat(i.data));case 5:case"end":return c.stop()}}),c)})));return function(e){return c.apply(this,arguments)}}()}})(L),E=n(80),M=n(118),Y=function(e){Object(j.a)(n,e);var t=Object(u.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"storeLogin",value:function(e){this.props.getID(e)}},{key:"logOut",value:function(){v.a.remove("spotifyAuthToken"),window.location.reload()}},{key:"render",value:function(){var e=this,t=v.a.get("spotifyAuthToken");return Object(h.jsxs)("div",{children:[Object(h.jsxs)("div",{className:"background_header",children:[Object(h.jsx)("h1",{children:Object(h.jsx)("a",{href:"/index.html",children:"PinPlay"})}),Object(h.jsx)("div",{style:{float:"right"},children:t?Object(h.jsx)(E.b.Provider,{value:t,children:Object(h.jsx)(E.c,{children:function(t){return t&&t.data?Object(h.jsxs)("div",{className:"row",children:[Object(h.jsx)("div",{className:"col-*-*",style:{padding:"10px"},children:Object(h.jsxs)("h6",{children:[e.storeLogin(t.data.id),"Logged in as ",t.data.display_name]})}),Object(h.jsx)("div",{className:"col-*-*",children:Object(h.jsx)("button",{type:"button",onClick:e.logOut,children:"Log Out"})})]}):Object(h.jsx)("p",{children:"Loading..."})}})}):Object(h.jsx)(M.a,{redirectUri:"http://pinplay.me/",clientID:"b698366808af491eb20ed64dedd91914",scopes:["user-read-private","user-read-email","playlist-modify-public","playlist-modify-private"]})})]}),Object(h.jsx)("div",{className:"header_color"}),Object(h.jsx)("div",{className:"header_color2"})]})}}]),n}(a.a.Component),G=Object(s.b)(null,{getID:function(e){return{type:"GET_ID",payload:e}}})(Y),F=function(e){Object(j.a)(n,e);var t=Object(u.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){return Object(h.jsx)("div",{children:Object(h.jsxs)(p.b,{history:T,children:[Object(h.jsx)(G,{}),Object(h.jsxs)("div",{children:[Object(h.jsx)(p.a,{path:"/",exact:!0,component:O}),Object(h.jsx)(p.a,{path:"/filters",exact:!0,component:A}),Object(h.jsx)(p.a,{path:"/endscreen/:id",exact:!0,component:y})]})]})})}}]),n}(a.a.Component),H={userID:null},U=n(253),X={playlistID:null},J=Object(l.c)({playlist:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"MAKE_PLAYLIST":return Object(f.a)(Object(f.a)({},e),{},{playlistID:t.payload});default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ID":return Object(f.a)(Object(f.a)({},e),{},{userID:t.payload});default:return e}},form:U.a}),K=n(119),R=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||l.d,q=Object(l.e)(J,R(Object(l.a)(K.a)));r.a.render(Object(h.jsx)(s.a,{store:q,children:Object(h.jsx)(F,{})}),document.querySelector("#root"))},35:function(e,t,n){}},[[250,1,2]]]);
//# sourceMappingURL=main.f090a87e.chunk.js.map