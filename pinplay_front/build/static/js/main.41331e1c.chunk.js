(this.webpackJsonppinplay_front=this.webpackJsonppinplay_front||[]).push([[0],{84:function(t,e,n){"use strict";n.r(e);var a=n(1),i=n.n(a),r=n(21),s=n.n(r),c=n(11),l=n(12),o=n(5),p=n(26),u=n(2),d=function(){return Object(u.jsxs)("div",{children:["Playlists will be displayed here in the future. For now, click the button to your right to go to the playlist generation page.",Object(u.jsx)("button",{type:"button",children:Object(u.jsx)(p.a,{to:"/filters",className:"ui button primary",children:"Click here!"})})]})},j=n(13),b=n(14),h=n(16),y=n(15),O=function(t){Object(h.a)(n,t);var e=Object(y.a)(n);function n(){return Object(j.a)(this,n),e.apply(this,arguments)}return Object(b.a)(n,[{key:"render",value:function(){console.log(this.props.playlistID);"https://open.spotify.com/embed/playlist/".concat(this.props.playlistID);return Object(u.jsx)("div",{children:Object(u.jsx)("div",{class:"playlist_embedd"})})}}]),n}(i.a.Component),f=(Object(c.b)((function(t,e){return{playlistID:e.match.params.id}}),null)(O),n(19)),v=n.n(f),x=n(30),m=n.n(x),g=n(45),k=n(46),I=n.n(k).a.create({baseURL:"http://pinplay.me/django"}),D=(n(43),function(t){Object(h.a)(n,t);var e=Object(y.a)(n);function n(){return Object(j.a)(this,n),e.apply(this,arguments)}return Object(b.a)(n,[{key:"onClick",value:function(){var t=v.a.get("spotifyAuthToken"),e=this.props.userID;this.props.makePlaylist(e,t)}},{key:"getPlaylistLink",value:function(){return"https://open.spotify.com/embed/playlist/".concat(this.props.playlistID)}},{key:"render",value:function(){var t=v.a.get("spotifyAuthToken");return Object(u.jsx)("div",{children:t?Object(u.jsx)("div",{children:this.props.playlistID?Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{children:"Your generated playlist:"}),Object(u.jsx)("iframe",{class:"embedded-playlist",src:this.getPlaylistLink(),allowtransparency:"true",allow:"encrypted-media",title:this.props.playlistID})]}):Object(u.jsx)("div",{children:Object(u.jsx)("button",{onClick:this.onClick.bind(this),class:"ui button primary",children:"Generate A Playlist!"})})}):Object(u.jsx)("div",{children:"Please log in to continue. NOTE: You may need to reload the page when you log in."})})}}]),n}(i.a.Component)),_=Object(c.b)((function(t,e){return{playlistID:t.playlist.playlistID,userID:t.auth.userID}}),{makePlaylist:function(t,e){return function(){var n=Object(g.a)(m.a.mark((function n(a){var i;return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,I.get("/pinplay_api/",{params:{user_id:t,auth_token:e,playlist_name:"My First Pinplay Playlist"}});case 2:i=n.sent,a({type:"MAKE_PLAYLIST",payload:i.data});case 4:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}()}})(D),P=n(7),w=Object(P.a)(),L=n(32),E=n(48),T=function(t){Object(h.a)(n,t);var e=Object(y.a)(n);function n(){return Object(j.a)(this,n),e.apply(this,arguments)}return Object(b.a)(n,[{key:"storeLogin",value:function(t){this.props.getID(t)}},{key:"render",value:function(){var t=this,e=v.a.get("spotifyAuthToken");return Object(u.jsxs)("div",{children:[Object(u.jsxs)("div",{className:"background_header",children:[Object(u.jsx)("h1",{children:"PinPlay"}),Object(u.jsx)("div",{style:{float:"right"},children:e?Object(u.jsx)(L.b.Provider,{value:e,children:Object(u.jsx)(L.c,{children:function(e){return e&&e.data?Object(u.jsx)("p",{children:Object(u.jsxs)("div",{children:[t.storeLogin(e.data.id),"Logged in as ",e.data.display_name]})}):Object(u.jsx)("p",{children:"Loading..."})}})}):Object(u.jsx)(E.a,{redirectUri:"http://pinplay.me/",clientID:"b698366808af491eb20ed64dedd91914",scopes:["user-read-private","user-read-email","playlist-modify-public","playlist-modify-private"]})})]}),Object(u.jsx)("div",{className:"header_color"}),Object(u.jsx)("div",{className:"header_color2"})]})}}]),n}(i.a.Component),A=Object(c.b)(null,{getID:function(t){return{type:"GET_ID",payload:t}}})(T),C=function(){return Object(u.jsx)("div",{children:Object(u.jsxs)(o.b,{history:w,children:[Object(u.jsx)(A,{}),Object(u.jsxs)("div",{children:[Object(u.jsx)(o.a,{path:"/",exact:!0,component:d}),Object(u.jsx)(o.a,{path:"/filters",exact:!0,component:_})]})]})})},N=n(17),S={userID:null},M={playlistID:null},Y=Object(l.c)({playlist:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"MAKE_PLAYLIST":return Object(N.a)(Object(N.a)({},t),{},{playlistID:e.payload});default:return t}},auth:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"GET_ID":return Object(N.a)(Object(N.a)({},t),{},{userID:e.payload});default:return t}}}),G=n(49),U=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||l.d,F=Object(l.e)(Y,U(Object(l.a)(G.a)));s.a.render(Object(u.jsx)(c.a,{store:F,children:Object(u.jsx)(C,{})}),document.querySelector("#root"))}},[[84,1,2]]]);
//# sourceMappingURL=main.41331e1c.chunk.js.map